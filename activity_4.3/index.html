<!DOCTYPE html>
<html>
<head>
    <title>Activity 4.3</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
    <div class="card template" style="width: 18rem">
    <div class="card-body">
    <h5 class="card-title">Card title</h5>
    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="card-link">Card link</a>
    <a href="#" class="card-link">Another link</a>
    </div>
    </div>
    <script>
        let apiEndpoint = "https://data.cityofchicago.org/resource/xzkq-xp2w.json?$LIMIT=100";
        fetch(apiEndpoint)
            .then(response => {return response.json()})
            .then(json => {
                for(let obj in json) {
                    console.log(json[obj])
                    console.log("Hello world")
                    var newP = document.createElement("p")
                    newP.textContent = json[obj]['name']
                    var bod = document.querySelector("body")
                    bod.append(newP)
                    var temp = document.querySelector(".template")
                    var clone = temp.cloneNode(true)
                    clone.classList.remove("template")
                    var title = clone.querySelector(".card-title")
                    title.textContent = json[obj]['name']
                    var subtitle = clone.querySelector(".card-subtitle")
                    subtitle.textContent = json[obj]['department']
                    var text = clone.querySelector(".card-text")
                    text.textContent = json[obj]['annual_salary']
                    bod.append(clone)
                }
                console.log(json)})
            .catch(err =>
                   alert(err))
    </script>
</body>
</html>